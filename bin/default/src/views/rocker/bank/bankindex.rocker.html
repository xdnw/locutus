@import link.locutus.discord.user.Roles
@import link.locutus.discord.db.GuildDB
@import net.dv8tion.jda.api.entities.Guild
@import net.dv8tion.jda.api.entities.User

@args (GuildDB db, Guild guild, User user)

@rocker.main.template(db.getGuild().getName() + " Bank Index") -> {
    <h2>Member Pages</h2>
    <a class="m-1 btn btn-primary btn-lg" href="@db.getGuild().getIdLong()/deposits">View Your Deposits</a>
    @if (db.getOrNull(GuildDB.Key.MEMBER_CAN_WITHDRAW) == Boolean.TRUE && Roles.ECON_WITHDRAW_SELF.has(user, guild)) {
        <a class="m-1 btn btn-primary btn-lg" href="/@db.getGuild().getIdLong()/withdrawaa">Withdraw your deposits</a>
    }

    @if(Roles.ECON.has(user, db.getGuild())) {
        <h2>Econ Gov Pages</h2>
        <a class="m-1 btn btn-primary btn-lg" href="/@db.getGuild().getIdLong()/memberdeposits">View Member Deposits</a>
        <a class="m-1 btn btn-primary btn-lg" href="/@db.getGuild().getIdLong()/withdrawaa">Send From Offshore</a>
    }
}